"use strict";(self["webpackChunkvuejs_option_api_20220404_pet_project_meetups_spa"]=self["webpackChunkvuejs_option_api_20220404_pet_project_meetups_spa"]||[]).push([[186],{2773:function(e,t,s){s.d(t,{U:function(){return a}});const a="https://firebasestorage.googleapis.com/v0/b/meetups-ddc9b.appspot.com/o/covers%2Fmeetups_card__background.jpg?alt=media&token=744441d9-c81e-4332-82a5-f41e5cc96b58"},3832:function(e,t,s){s.d(t,{Z:function(){return v}});var a=s(3396),i=s(7139);const r={class:"meetup-cover mdl-shadow--2dp"},n={class:"title"};function o(e,t,s,o,u,d){return(0,a.wg)(),(0,a.iD)("div",r,[(0,a._)("h1",n,(0,i.zw)(s.title),1)])}var u=s(2773),d=s(9242);const p={name:"MeetupCover",props:{title:{type:String,required:!1,default:"title"},image:{type:String,required:!1}},computed:{bgImage(){return this.image?`linear-gradient( 0deg, rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url(${this.image})`:`linear-gradient( 0deg, rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url(${u.U})`}}},c=()=>{(0,d.sj)((e=>({caf0ed82:e.bgImage})))},l=p.setup;p.setup=l?(e,t)=>(c(),l(e,t)):c;var m=p,g=s(89);const f=(0,g.Z)(m,[["render",o],["__scopeId","data-v-54f1e639"]]);var v=f},974:function(e,t,s){s.d(t,{Z:function(){return _}});var a=s(3396),i=s(7139);const r={key:1,class:"meetup-info"},n={class:"mdl-card__supporting-text"},o={class:"mdl-card__supporting-text"},u={class:"mdl-card__supporting-text time"},d={class:"text"};function p(e,t,s,p,c,l){const m=(0,a.up)("UiLoading"),g=(0,a.up)("UiIcon");return l.loading?((0,a.wg)(),(0,a.j4)(m,{key:0})):((0,a.wg)(),(0,a.iD)("div",r,[(0,a._)("div",n,[(0,a.Wm)(g,{class:"card","icon-name":"organizer"}),(0,a.Uk)((0,i.zw)(s.meetup.organizer.name),1)]),(0,a._)("div",o,[(0,a.Wm)(g,{class:"card","icon-name":"location"}),(0,a.Uk)((0,i.zw)(s.meetup.place),1)]),(0,a._)("div",u,[(0,a.Wm)(g,{class:"card","icon-name":"calendar"}),(0,a._)("div",d,(0,i.zw)(s.meetup.date)+" ("+(0,i.zw)(l.daysBeforeTheEvent)+")",1)])]))}var c=s(5367),l=s(8293),m=s(6797),g=s.n(m),f={name:"MeetupInfo",components:{UiIcon:c.Z,UiLoading:l.Z},props:{meetup:{type:Object,default:()=>{}}},computed:{loading(){return this.$store.state.meetups.isLoading},daysBeforeTheEvent(){const e=g()().valueOf(),t=this.meetup.dateUnix;return t>e?`Через ${g()(t-e).format("DDD")} дн`:g()(t).day()===g()(e).day()?"Мероприятие состоится сегодня":t<e?"Мероприятие прошло":""}}},v=s(89);const h=(0,v.Z)(f,[["render",p],["__scopeId","data-v-46e7e5aa"]]);var _=h},8293:function(e,t,s){s.d(t,{Z:function(){return l}});var a=s(3396);const i=e=>((0,a.dD)("data-v-27c3279a"),e=e(),(0,a.Cn)(),e),r={class:"ui-loading"},n=i((()=>(0,a._)("h4",null,"ИДЕТ ЗАГРУЗКА...",-1))),o=[n];function u(e,t,s,i,n,u){return(0,a.wg)(),(0,a.iD)("div",r,o)}var d={name:"UiLoading"},p=s(89);const c=(0,p.Z)(d,[["render",u],["__scopeId","data-v-27c3279a"]]);var l=c},9689:function(e,t,s){s.d(t,{Z:function(){return d}});var a=s(3396);const i={class:"ui-message"};function r(e,t,s,r,n,o){return(0,a.wg)(),(0,a.iD)("div",i,[(0,a.WI)(e.$slots,"default",{},void 0,!0)])}var n={name:"UiMessage"},o=s(89);const u=(0,o.Z)(n,[["render",r],["__scopeId","data-v-14644903"]]);var d=u},4186:function(e,t,s){s.r(t),s.d(t,{default:function(){return P}});var a=s(3396);const i={class:"main-page"},r={class:"content"};function n(e,t,s,n,o,u){const d=(0,a.up)("MeetupsList");return(0,a.wg)(),(0,a.iD)("div",i,[(0,a._)("div",r,[(0,a.Wm)(d)])])}const o={class:"meetups-list"},u=(0,a.Uk)(" По заданным параметрам ничего не найдено :( "),d=(0,a.Uk)("▲");function p(e,t,s,i,r,n){const p=(0,a.up)("UiMessage"),c=(0,a.up)("MeetupItem"),l=(0,a.up)("UiShift");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",o,[n.meetups.length?((0,a.wg)(!0),(0,a.iD)(a.HY,{key:1},(0,a.Ko)(n.meetups,(e=>((0,a.wg)(),(0,a.j4)(c,{key:e.id,meetup:e},null,8,["meetup"])))),128)):((0,a.wg)(),(0,a.j4)(p,{key:0,id:"message"},{default:(0,a.w5)((()=>[u])),_:1}))]),n.isNoScroll?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(l,{key:0,hash:"#modals",id:"scroll-up"},{default:(0,a.w5)((()=>[d])),_:1}))],64)}const c=e=>((0,a.dD)("data-v-35ec96d9"),e=e(),(0,a.Cn)(),e),l={class:"meetup-item mdl-shadow--2dp"},m={class:"cover"},g={class:"info"},f={key:0,class:"badge"},v=(0,a.Uk)("Участник"),h=(0,a.Uk)("Организатор"),_=c((()=>(0,a._)("hr",null,null,-1))),w={class:"link"},U=(0,a.Uk)(" Подробнее ");function k(e,t,s,i,r,n){const o=(0,a.up)("MeetupCover"),u=(0,a.up)("UiBadge"),d=(0,a.up)("MeetupInfo"),p=(0,a.up)("UiLink");return(0,a.wg)(),(0,a.iD)("div",l,[(0,a._)("div",m,[(0,a.Wm)(o,{title:s.meetup.title,image:s.meetup.image},null,8,["title","image"])]),(0,a._)("div",g,[n.userMeetups?((0,a.wg)(),(0,a.iD)("div",f,[n.isParticipant?((0,a.wg)(),(0,a.j4)(u,{key:0},{default:(0,a.w5)((()=>[v])),_:1})):(0,a.kq)("",!0),n.isOrganizer?((0,a.wg)(),(0,a.j4)(u,{key:1,variant:"organizer"},{default:(0,a.w5)((()=>[h])),_:1})):(0,a.kq)("",!0)])):(0,a.kq)("",!0),(0,a.Wm)(d,{meetup:s.meetup},null,8,["meetup"])]),_,(0,a._)("div",w,[(0,a.Wm)(p,{variant:"nav-link",to:{name:"meetup",params:{meetupId:s.meetup.id}}},{default:(0,a.w5)((()=>[U])),_:1},8,["to"])])])}var I=s(974),y=s(3832),M=s(4202),b=s(7139);function z(e,t,s,i,r,n){return(0,a.wg)(),(0,a.iD)("div",{class:(0,b.C_)(["ui-badge",n.type])},[(0,a.WI)(e.$slots,"default",{},void 0,!0)],2)}var Z={name:"UiBadge",props:{variant:{type:String,default:"participant"}},computed:{type(){return{"badge-participant":"participant"===this.variant,"badge-organizer":"organizer"===this.variant}}}},$=s(89);const j=(0,$.Z)(Z,[["render",z],["__scopeId","data-v-70a99f50"]]);var D=j,S={name:"MeetupsItem",components:{UiBadge:D,MeetupCover:y.Z,MeetupInfo:I.Z,UiLink:M.Z},props:{meetup:{type:Object,default:()=>{}}},computed:{userMeetups(){return this.$store.state.user.data.userInfo?.meetups},isParticipant(){return!!this.userMeetups&&this.userMeetups.participant.some((e=>e===this.meetup.id))},isOrganizer(){return!!this.userMeetups&&this.userMeetups.organizer.some((e=>e===this.meetup.id))}}};const L=(0,$.Z)(S,[["render",k],["__scopeId","data-v-35ec96d9"]]);var O=L,W=s(9689);function C(e,t,s,i,r,n){return(0,a.wg)(),(0,a.iD)("div",{class:"ui-scroll-up",onClick:t[0]||(t[0]=(...e)=>n.teleportTo&&n.teleportTo(...e))},[((0,a.wg)(),(0,a.j4)((0,a.LL)(s.tag),{id:"content"},{default:(0,a.w5)((()=>[(0,a.WI)(e.$slots,"default",{},void 0,!0)])),_:3}))])}var q={name:"UiShift",props:{to:{type:String,default:"index"},hash:{type:String,required:!0},tag:{type:[String,Object],default:"div"}},methods:{teleportTo(){this.$router.push({name:this.to,hash:this.hash})}}};const A=(0,$.Z)(q,[["render",C],["__scopeId","data-v-31e8aa8d"]]);var Y=A,x={name:"MeetupsList",components:{UiShift:Y,MeetupItem:O,UiMessage:W.Z},data:()=>({offsetX:window.pageXOffset,offsetY:window.pageYOffset}),computed:{isUserAuthorized(){return this.$store.state.user.data.isUserAuthorized},meetups(){return"meetups"===this.$route.name?this.$store.getters.filteredMeetups:"organizer"===this.$route.name&&this.isUserAuthorized?this.$store.getters.meetupsIOrganize:!("participant"!==this.$route.name||!this.isUserAuthorized)&&this.$store.getters.meetupsIParticipate},isNoScroll(){return 0===this.offsetX&&0===this.offsetY}},methods:{handleScroll(){this.offsetX=window.pageXOffset,this.offsetY=window.pageYOffset}},mounted(){window.addEventListener("scroll",this.handleScroll)},beforeUnmount(){window.removeEventListener("scroll",this.handleScroll)}};const B=(0,$.Z)(x,[["render",p],["__scopeId","data-v-e350d9bc"]]);var T=B,X={name:"MainPage",components:{MeetupsList:T},computed:{isUserAuthorized(){return this.$store.state.user.data.isUserAuthorized}},methods:{guard(){this.isUserAuthorized||this.$router.replace({name:"meetups"})}},created(){this.guard()}};const E=(0,$.Z)(X,[["render",n],["__scopeId","data-v-14a0c56c"]]);var P=E}}]);
//# sourceMappingURL=186.84e8c823.js.map