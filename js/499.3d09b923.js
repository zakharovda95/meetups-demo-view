"use strict";(self["webpackChunkvuejs_option_api_20220404_pet_project_meetups_spa"]=self["webpackChunkvuejs_option_api_20220404_pet_project_meetups_spa"]||[]).push([[499],{3054:function(e,a,t){t.d(a,{YT:function(){return s},fs:function(){return i},mD:function(){return n}});var r=t(7699),o=t(4944);function n(e,a){return(0,r.Xb)(o.bU,e,a).then((e=>e.user)).catch((e=>e.code+e.message))}function s(e,a){return(0,r.e5)(o.bU,e,a).then((e=>e.user)).catch((e=>e.code))}async function i(){await(0,r.w7)(o.bU)}},3982:function(e,a,t){function r(e){if(!e)return"Обязательное поле";const a=/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i;return!!a.test(e)||"Не забывайте про @"}function o(e){return!!e||"Обязательное поле"}function n(e){return e?!(e.length<6)||"Минимум 6 символов":"Обязательное поле"}function s(e,a){return e?e===a||"Пароли не совпадают":"Обязательное поле"}t.d(a,{_D:function(){return o},oH:function(){return r},u_:function(){return s},uo:function(){return n}})},3886:function(e,a,t){t.d(a,{Z:function(){return m}});var r=t(3396),o=t(7139);const n={class:"ui-label"},s={key:0};function i(e,a,t,i,u,l){return(0,r.wg)(),(0,r.iD)("div",n,[t.label?((0,r.wg)(),(0,r.iD)("label",s,(0,o.zw)(t.label),1)):(0,r.kq)("",!0),(0,r.WI)(e.$slots,"default",{},void 0,!0)])}var u={name:"UiLabel",props:{label:{type:String,require:!1}}},l=t(89);const d=(0,l.Z)(u,[["render",i],["__scopeId","data-v-43692e97"]]);var m=d},6831:function(e,a,t){t.r(a),t.d(a,{default:function(){return M}});var r=t(3396);const o={class:"registration-page"};function n(e,a,t,n,s,i){const u=(0,r.up)("RegistrationForm");return(0,r.wg)(),(0,r.iD)("div",o,[(0,r.Wm)(u)])}var s=t(7139);const i=e=>((0,r.dD)("data-v-552627a6"),e=e(),(0,r.Cn)(),e),u={class:"registration-form mdl-shadow--2dp"},l=i((()=>(0,r._)("h3",null,"Зарегистрируйтесь",-1))),d=(0,r.Uk)(" Я согласен с условиями "),m=(0,r.Uk)(" Зарегистрироваться "),c=(0,r.Uk)(" Уже есть аккаунт? "),p=(0,r.Uk)("Войдите");function f(e,a,t,o,n,i){const f=(0,r.up)("UiInput"),w=(0,r.up)("ErrorMessage"),_=(0,r.up)("UiLabel"),b=(0,r.up)("UiCheckbox"),g=(0,r.up)("UiButton"),v=(0,r.up)("UiLink"),h=(0,r.up)("Form");return(0,r.wg)(),(0,r.iD)("div",u,[l,(0,r.Wm)(h,{onSubmit:i.registration},{default:(0,r.w5)((()=>[(0,r.Wm)(_,{label:"Email"},{default:(0,r.w5)((()=>[(0,r.Wm)(f,{name:"email",rules:i.validateEmail,type:"email",modelValue:e.userData.email,"onUpdate:modelValue":a[0]||(a[0]=a=>e.userData.email=a),modelModifiers:{trim:!0}},null,8,["rules","modelValue"]),(0,r.Wm)(w,{name:"email",class:"error"})])),_:1}),(0,r.Wm)(_,{label:"Логин"},{default:(0,r.w5)((()=>[(0,r.Wm)(f,{name:"login",rules:i.validateLogin,modelValue:e.userData.login,"onUpdate:modelValue":a[1]||(a[1]=a=>e.userData.login=a),modelModifiers:{trim:!0}},null,8,["rules","modelValue"]),(0,r.Wm)(w,{name:"login",class:"error"})])),_:1}),(0,r.Wm)(_,{label:"Пароль"},{default:(0,r.w5)((()=>[(0,r.Wm)(f,{name:"password",rules:i.validatePassword,type:"password",modelValue:e.userData.password,"onUpdate:modelValue":a[2]||(a[2]=a=>e.userData.password=a),modelModifiers:{trim:!0}},null,8,["rules","modelValue"]),(0,r.Wm)(w,{class:"error",name:"password"})])),_:1}),(0,r.Wm)(_,{label:"Повторите пароль"},{default:(0,r.w5)((()=>[(0,r.Wm)(f,{name:"passwordRepeat",rules:i.validatePasswordRepeat,type:"password",modelValue:e.userData.passwordRepeat,"onUpdate:modelValue":a[3]||(a[3]=a=>e.userData.passwordRepeat=a),modelModifiers:{trim:!0}},null,8,["rules","modelValue"]),(0,r.Wm)(w,{name:"passwordRepeat",class:"error"})])),_:1}),(0,r.Wm)(b,{required:"",modelValue:e.userData.isConfirmation,"onUpdate:modelValue":a[4]||(a[4]=a=>e.userData.isConfirmation=a)},{default:(0,r.w5)((()=>[d])),_:1},8,["modelValue"]),(0,r.Wm)(g,{disabled:!e.userData.isConfirmation,class:(0,s.C_)([{disabled:!e.userData.isConfirmation},"register-button"]),type:"submit",variant:"bgMain"},{default:(0,r.w5)((()=>[m])),_:1},8,["disabled","class"]),(0,r._)("p",null,[c,(0,r.Wm)(v,{class:"login-link",to:{name:"login"}},{default:(0,r.w5)((()=>[p])),_:1})])])),_:1},8,["onSubmit"])])}var w=t(3886),_=t(1607),b=t(4202),g=t(3067),v=t(9242);const h={class:"ui-checkbox"};function D(e,a,t,o,n,s){return(0,r.wg)(),(0,r.iD)("label",h,[(0,r.wy)((0,r._)("input",(0,r.dG)({type:"checkbox","onUpdate:modelValue":a[0]||(a[0]=e=>s.modelValueProxy=e)},e.$attrs),null,16),[[v.e8,s.modelValueProxy]]),(0,r.WI)(e.$slots,"default",{},void 0,!0)])}var U={name:"UiCheckbox",props:["modelValue"],inheritAttrs:!1,emits:["update:modelValue"],computed:{modelValueProxy:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}}}},V=t(89);const W=(0,V.Z)(U,[["render",D],["__scopeId","data-v-2e5cb7de"]]);var k=W,y=t(3054),C=t(7541),Z=t(5708),R=t(3982),x={name:"RegistrationForm",components:{UiButton:g.Z,UiInput:_.Z,UiCheckbox:k,UiLink:b.Z,UiLabel:w.Z,Form:Z.l0,ErrorMessage:Z.Bc},data:()=>({userData:{email:"",login:"",password:"",passwordRepeat:"",isConfirmation:!1}}),methods:{validateEmail(e){return(0,R.oH)(e)},validateLogin(e){return(0,R._D)(e)},validatePassword(e){return(0,R.uo)(e)},validatePasswordRepeat(e){return(0,R.u_)(e,this.userData.password)},async registration(){try{const e=await(0,y.mD)(this.userData.email,this.userData.password),a={uid:e.uid,name:this.userData.login,email:e.email,meetups:{participant:["Как участник"],organizer:["Как организатор"]}};await(0,C.mH)("users/"+e.uid,a),await this.$router.push({name:"login"}),await this.$toast.success("Регистрация прошла успешно!")}catch(e){this.$toast.error("Пожалуйста повторите еще раз! Firebase`у что то не понравилось:("+(0,r.Wm)("br",null,null)+e)}}}};const I=(0,V.Z)(x,[["render",f],["__scopeId","data-v-552627a6"]]);var P=I,$={name:"RegistrationPage",components:{RegistrationForm:P},data:()=>({})};const L=(0,V.Z)($,[["render",n],["__scopeId","data-v-76cbfdde"]]);var M=L}}]);
//# sourceMappingURL=499.3d09b923.js.map