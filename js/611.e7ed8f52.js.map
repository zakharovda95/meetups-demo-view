{"version":3,"file":"js/611.e7ed8f52.js","mappings":"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","sources":["webpack://vuejs-option_api-20220404-pet_project-meetups-spa/./src/requesters/firebase/_firebase.auth.requesters.js","webpack://vuejs-option_api-20220404-pet_project-meetups-spa/./src/services/_validation.servisce.js","webpack://vuejs-option_api-20220404-pet_project-meetups-spa/./src/components/ui/UiLabel.vue","webpack://vuejs-option_api-20220404-pet_project-meetups-spa/./src/components/ui/UiLabel.vue?a63e","webpack://vuejs-option_api-20220404-pet_project-meetups-spa/./src/pages/LoginPage.vue","webpack://vuejs-option_api-20220404-pet_project-meetups-spa/./src/components/sections/Auth/LoginForm.vue","webpack://vuejs-option_api-20220404-pet_project-meetups-spa/./src/components/sections/Auth/LoginForm.vue?3979","webpack://vuejs-option_api-20220404-pet_project-meetups-spa/./src/pages/LoginPage.vue?3607"],"sourcesContent":["import {\n  createUserWithEmailAndPassword,\n  signInWithEmailAndPassword,\n  signOut,\n} from 'firebase/auth';\nimport { fbAuth } from '@/requesters/firebase/_options.firebase';\n\n/** Регистрация **/\nexport function fbRegister(email, password) {\n  return createUserWithEmailAndPassword(fbAuth, email, password)\n    .then(userCredential => {\n      return userCredential.user;\n    })\n    .catch(error => {\n      return error.code + error.message;\n    });\n}\n\n/** Вход **/\nexport function fbLogin(email, password) {\n  return signInWithEmailAndPassword(fbAuth, email, password)\n    .then(userCredential => {\n      return userCredential.user;\n    })\n    .catch(error => {\n      return error.code;\n    });\n}\n\n/** Выход **/\nexport async function fbLogout() {\n  await signOut(fbAuth);\n}\n","/** Валидация форм регистрации и входа **/\nexport function validateEmail(value) {\n  if (!value) {\n    return 'Обязательное поле';\n  }\n  const regex = /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i;\n  if (!regex.test(value)) {\n    return 'Не забывайте про @';\n  }\n  return true;\n}\n\nexport function validateLogin(value) {\n  if (!value) {\n    return 'Обязательное поле';\n  }\n  return true;\n}\n\nexport function validatePassword(value) {\n  if (!value) {\n    return 'Обязательное поле';\n  }\n  if (value.length < 6) {\n    return 'Минимум 6 символов';\n  }\n  return true;\n}\n\nexport function validatePasswordRepeat(value1, value2) {\n  if (!value1) {\n    return 'Обязательное поле';\n  }\n  if (value1 !== value2) {\n    return 'Пароли не совпадают';\n  }\n  return true;\n}\n","<template>\n  <div class=\"ui-label\">\n    <label v-if=\"label\">{{ label }}</label>\n    <slot />\n  </div>\n</template>\n<script>\nexport default {\n  name: 'UiLabel',\n  props: {\n    label: {\n      type: String,\n      require: false,\n    },\n  },\n};\n</script>\n<style scoped lang=\"scss\">\n@import '~@/assets/styles/_constants.scss';\n.ui-label {\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 24px;\n  width: 100%;\n  label {\n    width: 100%;\n    font-size: 1.4em;\n    margin: 5px;\n    color: $FONT_COLOR_DARK;\n    font-family: 'Comic Sans MS', sans-serif;\n  }\n}\n</style>\n","import { render } from \"./UiLabel.vue?vue&type=template&id=5c8591b8&scoped=true\"\nimport script from \"./UiLabel.vue?vue&type=script&lang=js\"\nexport * from \"./UiLabel.vue?vue&type=script&lang=js\"\n\nimport \"./UiLabel.vue?vue&type=style&index=0&id=5c8591b8&scoped=true&lang=scss\"\n\nimport exportComponent from \"C:\\\\Users\\\\dmitryzakharov95\\\\Desktop\\\\projects\\\\pet projects\\\\vuejs-option_api-20220404-pet_project-meetups-spa\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5c8591b8\"]])\n\nexport default __exports__","<template>\n  <div class=\"login-page\">\n    <LoginForm />\n  </div>\n</template>\n<script>\nimport LoginForm from '@/components/sections/Auth/LoginForm';\nexport default {\n  name: 'LoginPage',\n  components: { LoginForm },\n};\n</script>\n<style scoped lang=\"scss\">\n.login-page {\n  display: flex;\n  width: 100%;\n  justify-content: center;\n}\n</style>\n","<template>\n  <div class=\"login-form mdl-shadow--2dp\">\n    <h3>Войдите</h3>\n    <Form @submit=\"login\">\n      <UiLabel class=\"login-field\" label=\"Email\">\n        <UiInput\n          name=\"email\"\n          :rules=\"validateEmail\"\n          type=\"email\"\n          v-model=\"userData.email\"\n        />\n        <ErrorMessage name=\"email\" class=\"error\" />\n      </UiLabel>\n      <UiLabel label=\"Пароль\">\n        <UiInput\n          name=\"password\"\n          :rules=\"validatePassword\"\n          type=\"password\"\n          v-model=\"userData.password\"\n        />\n        <ErrorMessage name=\"password\" class=\"error\" />\n      </UiLabel>\n      <UiButton class=\"login-button\" type=\"submit\" variant=\"bgMain\">\n        Войти\n      </UiButton>\n      <p>\n        Нет аккаунта?\n        <UiLink class=\"registration-link\" :to=\"{ name: 'registration' }\">\n          Зарегистрируйтесь\n        </UiLink>\n      </p>\n    </Form>\n  </div>\n</template>\n<script>\nimport UiLabel from '@/components/ui/UiLabel';\nimport UiInput from '@/components/ui/UiInput';\nimport UiLink from '@/components/ui/UiLink';\nimport UiButton from '@/components/ui/UiButton';\nimport { fbLogin } from '@/requesters/firebase/_firebase.auth.requesters';\nimport { Form, ErrorMessage } from 'vee-validate';\nimport {\n  validateEmail,\n  validatePassword,\n} from '@/services/_validation.servisce';\nimport {\n  setLocalStorageData,\n  updateToken,\n} from '@/services/_local-storage.service';\nexport default {\n  name: 'LoginForm',\n  components: { UiButton, UiInput, UiLink, UiLabel, Form, ErrorMessage },\n  mounted() {\n    this.$toast.show('Вы можете зайти под демо пользователем');\n  },\n  data: () => ({\n    userData: {\n      email: 'testUser@mail.com',\n      password: '123456',\n    },\n  }),\n  methods: {\n    validateEmail(value) {\n      return validateEmail(value);\n    },\n    validatePassword(value) {\n      return validatePassword(value);\n    },\n    async login() {\n      const isSuccess = await fbLogin(\n        this.userData.email,\n        this.userData.password,\n      );\n      if (isSuccess === 'auth/user-not-found') {\n        this.$toast.error('Неверный логин/пароль');\n      }\n      if (isSuccess === 'auth/wrong-password') {\n        this.$toast.error('Неверный пароль');\n      } else {\n        setLocalStorageData('user_token', isSuccess.uid);\n        await this.$store.dispatch('isUserAuthorized');\n        await this.$router.push({ name: 'meetups' });\n      }\n    },\n  },\n};\n</script>\n<style scoped lang=\"scss\">\n@import '~@/assets/styles/_constants.scss';\n@media (max-width: 1019px) {\n  .login-form {\n    display: flex;\n    flex-direction: column;\n    align-self: center;\n    margin: 25px;\n    width: 90%;\n    padding: 25px;\n    background: white;\n    text-align: center;\n    border-radius: 0 25px 25px 25px;\n\n    h3 {\n      color: $FONT_COLOR_DARK;\n      font-family: 'Comic Sans MS', sans-serif;\n    }\n\n    form {\n      display: flex;\n      margin: 0 auto;\n      flex-direction: column;\n      .error {\n        color: $ERROR_COLOR;\n        font-size: 0.7rem;\n        font-family: 'Comic Sans MS', sans-serif;\n      }\n      .login-button {\n        display: flex;\n        justify-content: center;\n        align-self: center;\n        margin-top: 25px;\n        width: 150px;\n      }\n      .login-button:hover {\n        background-color: $FONT_COLOR_DARK;\n        color: $FONT_COLOR_LIGHT;\n      }\n\n      p {\n        font-size: 1.4em;\n        color: $FONT_COLOR_DARK;\n        margin-top: 25px;\n\n        .registration-link {\n          color: $MAIN_COLOR;\n          text-decoration: underline;\n        }\n      }\n    }\n  }\n}\n@media (min-width: 1020px) {\n  .login-form {\n    display: flex;\n    flex-direction: column;\n    margin: 25px;\n    width: 40%;\n    height: 50vh;\n    padding: 25px;\n    background: white;\n    text-align: center;\n    align-self: center;\n    border-radius: 0 25px 25px 25px;\n    h3 {\n      color: $FONT_COLOR_DARK;\n      font-family: 'Comic Sans MS', sans-serif;\n    }\n    form {\n      display: flex;\n      margin: 0 auto;\n      flex-direction: column;\n      .error {\n        color: $ERROR_COLOR;\n        font-size: 0.7rem;\n        font-family: 'Comic Sans MS', sans-serif;\n      }\n      .login-button {\n        display: flex;\n        justify-content: center;\n        align-self: center;\n        margin-top: 25px;\n        width: 150px;\n      }\n      .login-button:hover {\n        background-color: $FONT_COLOR_DARK;\n        color: $FONT_COLOR_LIGHT;\n      }\n      p {\n        font-size: 1.4em;\n        color: $FONT_COLOR_DARK;\n        margin-top: 25px;\n        font-family: Roboto, sans-serif;\n\n        .registration-link {\n          color: $MAIN_COLOR;\n          text-decoration: underline;\n        }\n      }\n    }\n  }\n}\n</style>\n","import { render } from \"./LoginForm.vue?vue&type=template&id=d87f65d4&scoped=true\"\nimport script from \"./LoginForm.vue?vue&type=script&lang=js\"\nexport * from \"./LoginForm.vue?vue&type=script&lang=js\"\n\nimport \"./LoginForm.vue?vue&type=style&index=0&id=d87f65d4&scoped=true&lang=scss\"\n\nimport exportComponent from \"C:\\\\Users\\\\dmitryzakharov95\\\\Desktop\\\\projects\\\\pet projects\\\\vuejs-option_api-20220404-pet_project-meetups-spa\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-d87f65d4\"]])\n\nexport default __exports__","import { render } from \"./LoginPage.vue?vue&type=template&id=1223c822&scoped=true\"\nimport script from \"./LoginPage.vue?vue&type=script&lang=js\"\nexport * from \"./LoginPage.vue?vue&type=script&lang=js\"\n\nimport \"./LoginPage.vue?vue&type=style&index=0&id=1223c822&scoped=true&lang=scss\"\n\nimport exportComponent from \"C:\\\\Users\\\\dmitryzakharov95\\\\Desktop\\\\projects\\\\pet projects\\\\vuejs-option_api-20220404-pet_project-meetups-spa\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1223c822\"]])\n\nexport default __exports__"],"names":["fbRegister","email","password","createUserWithEmailAndPassword","fbAuth","then","userCredential","user","catch","error","code","message","fbLogin","signInWithEmailAndPassword","async","fbLogout","signOut","validateEmail","value","regex","test","validateLogin","validatePassword","length","validatePasswordRepeat","value1","value2","class","_createElementBlock","$props","_hoisted_2","_toDisplayString","_renderSlot","_ctx","undefined","name","props","label","type","String","require","__exports__","render","_createVNode","_component_LoginForm","_createElementVNode","_component_Form","onSubmit","$options","_component_UiLabel","_component_UiInput","rules","$event","_component_ErrorMessage","_component_UiButton","variant","_component_UiLink","to","components","UiButton","UiInput","UiLink","UiLabel","Form","ErrorMessage","mounted","this","$toast","show","data","userData","methods","isSuccess","setLocalStorageData","uid","$store","dispatch","$router","push","LoginForm"],"sourceRoot":""}